@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
}
@model IEnumerable<Hr.Models.ViewModelEvalwithother>

@{
    ViewData["Title"] = "الاستعلام عن الطلبات";
    //Layout = "~/Views/Shared/_Layout - Copy - Copy.cshtml";
    Layout = "~/Views/Shared/_Layout.cshtml";
}


<table>
    <thead>
        <tr>
            <th>

            </th>
            <th>

            </th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>
              <h4> سياسات وضوابط الأداء الوظيفي:</h4>
- دورة الأداء: هي السنة الخاضعة لتقويم الأداء ويكون انتهائها متزامناً مع نهاية السنة المالية للدولة.
<br />
و تقسم دورة الأداء إلى عدة مراحل أساسية:
<br />
أ-مرحلة تخطيط الأداء (ميثاق الأداء): أول شهرين (يناير، فبراير) من بداية دورة الأداء وتتضمن خطة أداء الموظف مع المدير ويتم توثيق ما تم الاتفاق عليه في ميثاق الأداء.
<br />
ب-مرحلة التقييم السنوي للأداء (تقييم الأداء): خلال الشهر الحادي عشر والثاني عشر (نوفمبر، ديسمبر) من دورة الأداء ويتم فيها تقييم الأداء السنوي للموظف حسب ما هو محدد في ميثاق الأداء الذي تم إعداده بداية دورة الأداء.
<br />
-الناتج الفعلي: هو التحديد الكمي للأداء الفعلي الذي تم تحقيقه.
<br />
-التقدير العام لأداء الموظف: هو قيمة كمية تعبر عن المستوى الإجمالي لأداء الموظف المرتبط بالأهداف والجدارات في نهاية فترة زمنية محددة من دورة الأداء.​
<br />
نقاط القوة والنقاط التي تحتاج إلى تطوير: تحدد لكل موظف نقاط القوة التي يتميز بها وجوانب الضعف التي تحتاج إلى تطوير وتدريب.
<br />
<img src="~/img/pastedImage.png" alt="شرح للسياسات " width="750" height="225" />
<br />
<h4 style="color:red">الضوابط النظامية (أطر العمل التنظيمية للائحة التنفيذية للموارد البشرية):</h4>
<br />
-الموظف في حال التدريب أو الدراسة أو الإعارة التي تزيد عن 6 شهور: يرجى ابلاغ إدارة تطوير الموارد البشرية. م5
- الموظف في حال الإجازات الطويلة التي تزيد عن 6 شهور: يعد تقييم أدائه من ضوء عمله خلال المدة السابقة للإجازة. م6
<br />
-نماذج تقييم الأداء: تشمل موظفي السلم العام من المرتبة 14-1، والسعوديين على بند الأجور، أو المستخدمين. م7،8
<br />
-الرئيس المباشر: يحدد للموظف الأهداف والوزن النسبي والناتج المستهدف لكل هدف بالتنسيق مع الموظف وفق ميثاق الأداء. يجوز تعديل ميثاق الأداء بعد انتهاء النصف الأول من دورة الأداء. كذلك يعد الرئيس المباشر ميثاق الأداء ويتم إطلاع الموظف عليه ويعتمد من رئيس الوحدة التنظيمية، ويتم تزويد إدارة الموارد البشرية بالنسخة المعتمدة. م9
<br />
يجب على الرئيس المباشر عند إعداد تقويم الأداء الوظيفي للموظف الرجوع إلى ميثاق الأداء وسجل تدوين الملاحظات وتقرير الإنجاز وسجل متابعة الأداء وأي مصادر أخرى تساعد على تحقيق الدقة والموضوعية. م11
<br />
من صلاحيات الرئيس المباشر تقييم الموظف بغض النظر عن مرتبته. الاستفسارات
<br />
- تعديل تقويم الأداء: لا يجوز تعديل تقويم الأداء الوظيفي بعد اعتماده إلا بموافقة الأمين بناءً على توصية مبررة من إدارة الموارد البشرية بعد تنسيقها مع الرئيس المباشر للموظف. م122 اللائحة التنفيذية
<br />         
            </td>
            <td>
            </td>
        </tr>

    </tbody>
</table>
<table>
    <thead>
        <tr>
            <th>

            </th>
            <th>

            </th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>
                <p>
                    @using (@Html.BeginForm())
                    {
                        <button type="submit" name="1" value="1" class="=btn btn-success" asp-action="approveduser11" asp-controller="ViewModelEvalwithother1" formmethod="post">تم الموافقة عليها </button>
                        <button type="submit" name="2" value="2" class="=btn btn-success" asp-action="canceluser11" asp-controller="ViewModelEvalwithother1" formmethod="post">تم رفضها  </button>

                        @*@Html.TextBox("search", "", new { placeholder = "بحث بالدورة", @class = "" })*@



                    }
                </p>
            </td>
            <td>
            </td>
        </tr>

    </tbody>
</table>
@*<script type="text/javascript">

            window.onload = function () {
                alert("@ViewBag.Message");
            };
    </script>*@


@*<table>
        <thead>
            <tr>
                <th>

                </th>
                <th>

                </th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>
                    <p>
                        @using (@Html.BeginForm())
                        {
                            <button type="submit" class="=btn btn-primary mb-lg-4">بحث</button>
                            @Html.TextBox("search", "", new { placeholder = "بحث بالدورة ", @class = "" })

                        }
                    </p>
                </td>
                <td>
                </td>
            </tr>

        </tbody>
    </table>*@

@*<div id="sortMsg" style="text-align: center; color: Red;">
    </div>*@
@*<div class="row" style="float:right; width:100%">*@
<table @*style="width: 100%;"*@ id="table" class="table table-responsive-lg table-bordered table-condensed table-striped table-hover  sortable">
    <thead>
        <tr>
            <th>

            </th>
            <th>
                الموظف
            </th>
            <th>
                رقم الطلب
            </th>
            <th>
                الوظيفة
            </th>
            <th>
                الأدارة
            </th>
            <th>
                القسم
            </th>
            <th>
                المدير
            </th>
            <th>
                حالة الطلب - المدير المباشر
            </th>
            <th>
                حالة الطلب - المدير المعتمد
            </th>
            <th>
                تاريخ الطلب
            </th>

        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model)
        {
        <tr>
            <td>
                <a asp-controller="ViewModelEvalwithother1" asp-action="Detail1111" class="btn btn-success" target="_blank">درجة  التقييم </a>|
                @*<a asp-controller="ViewModelEvalwithother1" asp-action="Detail111" class="btn btn-success">عرض  الطلب </a>|*@
                <a asp-controller="ViewModelEvalwithother1" asp-action="Edit11" asp-route-id="@item.AEvaluationEmp.EncryptedIdd" class="btn btn-success" target="_blank">تعديل الطلب </a>
                @*<a asp-controller="MasterDetails" asp-action="Create2" asp-route-id="@item.MasterDetails.COURCES_IDMASTER">رفض</a>*@
                @*<a asp-controller="MasterDetails" asp-action="Delete" asp-route-id="@item.MasterDetails.MasterDetailsSerial">انتظار </a>*@

            </td>
            <td>
                @Html.DisplayFor(modelItem => item.AEvaluationEmp.Empname)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.AEvaluationEmp.Idd)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.AEvaluationEmp.Jobname)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.AEvaluationEmp.DepName)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.AEvaluationEmp.SubDepName)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.AEvaluationEmp.ManagerName)
            </td>
            <td>
                @if (item.evalDetail2.OfferedRequestTo3 == "1")
                {
                    <span style="background-color: forestgreen; font-display: auto; font-family: 'Times New Roman', Times, serif; font-size: larger; ">تم الموافقة- </span>
                }
                else
                {
                    <span style="background-color: red; font-display: auto; font-family: 'Times New Roman', Times, serif; font-size: larger;"> لم تتم الموافقة -  </span>
                }
                @Html.DisplayFor(modelItem => item.cemp.MANAGERNAME)

            </td>
            <td>
                @if (item.evalDetail2.OfferedRequestTypeSatus == 1)
                {
                    <span style="background-color: forestgreen; font-display: auto; font-family: 'Times New Roman', Times, serif; font-size: larger; ">تم الموافقة- </span>
                }
                else
                {
                    <span style="background-color: red; font-display: auto; font-family: 'Times New Roman', Times, serif; font-size:larger;"> لم تتم الموافقة -  </span>
                }
                @if (item.cemp.MANAGERID2.Equals("محمد بن مبارك عبدالله ال مجلي"))
                {

                }
                else
                {
                    @Html.DisplayFor(modelItem => item.cemp.MANAGERID2)
                }
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.AEvaluationEmp.CovenantDate)
            </td>

        </tr>
        }
    </tbody>
</table>

@*</div>*@

@*<div id="pager" class="pager">
        <br />
        <img src="~/Content/first.png" />
        <img src="~/Content/first.png" class="first" />
        <img src="~/Content/prev.png" class="prev" />
        <input type="text" class="pagedisplay" />
        <img src="~/Content/next.png" class="next" />
        <img src="~/Content/last.png" class="last" />
        <select class="pagesize">
            <option selected="selected" value="10">10</option>
            <option value="20">20</option>
            <option value="30">30</option>
            <option value="40">40</option>
        </select>
    </div>

    <script type="text/javascript">
        $(function () {
            $("#empTable")
                .tablesorter({ widthFixed: true })
                .tablesorterPager({ container: $("#pager") });
            $("#empTable").bind("sortStart", function () {
                $("#sortMsg").html('Sorting');
            }).bind("sortEnd", function () {
                $("#sortMsg").html('');
            });

            //Hide/delete row on click.
            $("#empTable img").click(function () { $(this).parent().parent().hide(); });
        });
    </script>*@
<script language="javascript" type="text/javascript">
    $(document).ready(function () {
        try {
            $("input[type='text']").each(function () {
                $(this).attr("autocomplete", "off");
            });
        }
        catch (e) { }
    });

</script>
<script>

    $(document).ready(function () {
        $('#table').DataTable({
            dom: 'Bfrtip',
            buttons: [
                /*'copy', 'csv', 'excel', 'pdf',*/ 'print','excel'
            ],
            "language": {
                "emptyTable": "ليست هناك بيانات متاحة في الجدول",
                "loadingRecords": "جارٍ التحميل...",
                "processing": "جارٍ التحميل...",
                "lengthMenu": "أظهر _MENU_ مدخلات",
                "zeroRecords": "لم يعثر على أية سجلات",
                "info": "إظهار _START_ إلى _END_ من أصل _TOTAL_ مدخل",
                "infoEmpty": "يعرض 0 إلى 0 من أصل 0 سجل",
                "infoFiltered": "(منتقاة من مجموع _MAX_ مُدخل)",
                "search": "ابحث:",
                "paginate": {
                    "first": "الأول",
                    "previous": "السابق",
                    "next": "التالي",
                    "last": "الأخير"
                },
                "aria": {
                    "sortAscending": ": تفعيل لترتيب العمود تصاعدياً",
                    "sortDescending": ": تفعيل لترتيب العمود تنازلياً"
                },
                "select": {
                    "rows": {
                        "_": "%d قيمة محددة",
                        "0": "",
                        "1": "1 قيمة محددة"
                    },
                    "1": "%d سطر محدد",
                    "_": "%d أسطر محددة",
                    "cells": {
                        "1": "1 خلية محددة",
                        "_": "%d خلايا محددة"
                    },
                    "columns": {
                        "1": "1 عمود محدد",
                        "_": "%d أعمدة محددة"
                    }
                },
                "buttons": {
                    "print": "طباعة",
                    "copyKeys": "زر <i>ctrl<\/i> أو <i>⌘<\/i> + <i>C<\/i> من الجدول<br>ليتم نسخها إلى الحافظة<br><br>للإلغاء اضغط على الرسالة أو اضغط على زر الخروج.",
                    "copySuccess": {
                        "_": "%d قيمة نسخت",
                        "1": "1 قيمة نسخت"
                    },
                    "pageLength": {
                        "-1": "اظهار الكل",
                        "_": "إظهار %d أسطر"
                    },
                    "collection": "مجموعة",
                    "copy": "نسخ",
                    "copyTitle": "نسخ إلى الحافظة",
                    "csv": "CSV",
                    "excel": "Excel",
                    "pdf": "PDF",
                    "colvis": "إظهار الأعمدة",
                    "colvisRestore": "إستعادة العرض"
                },
                "autoFill": {
                    "cancel": "إلغاء",
                    "info": "مثال عن الملئ التلقائي",
                    "fill": "املأ جميع الحقول بـ <i>%d&lt;\\\/i&gt;<\/i>",
                    "fillHorizontal": "تعبئة الحقول أفقيًا",
                    "fillVertical": "تعبئة الحقول عموديا"
                },
                "searchBuilder": {
                    "add": "اضافة شرط",
                    "clearAll": "ازالة الكل",
                    "condition": "الشرط",
                    "data": "المعلومة",
                    "logicAnd": "و",
                    "logicOr": "أو",
                    "title": [
                        "منشئ البحث"
                    ],
                    "value": "القيمة",
                    "conditions": {
                        "date": {
                            "after": "بعد",
                            "before": "قبل",
                            "between": "بين",
                            "empty": "فارغ",
                            "equals": "تساوي",
                            "not": "ليس",
                            "notBetween": "ليست بين",
                            "notEmpty": "ليست فارغة"
                        },
                        "number": {
                            "between": "بين",
                            "empty": "فارغة",
                            "equals": "تساوي",
                            "gt": "أكبر من",
                            "gte": "أكبر وتساوي",
                            "lt": "أقل من",
                            "lte": "أقل وتساوي",
                            "not": "ليست",
                            "notBetween": "ليست بين",
                            "notEmpty": "ليست فارغة"
                        },
                        "string": {
                            "contains": "يحتوي",
                            "empty": "فاغ",
                            "endsWith": "ينتهي ب",
                            "equals": "يساوي",
                            "not": "ليست",
                            "notEmpty": "ليست فارغة",
                            "startsWith": " تبدأ بـ "
                        }
                    },
                    "button": {
                        "0": "فلاتر البحث",
                        "_": "فلاتر البحث (%d)"
                    },
                    "deleteTitle": "حذف فلاتر"
                },
                "searchPanes": {
                    "clearMessage": "ازالة الكل",
                    "collapse": {
                        "0": "بحث",
                        "_": "بحث (%d)"
                    },
                    "count": "عدد",
                    "countFiltered": "عدد المفلتر",
                    "loadMessage": "جارِ التحميل ...",
                    "title": "الفلاتر النشطة"
                },
                "searchPlaceholder": "ابحث ..."
            }
        });
    });

</script>

<link href="~/DataTables (1)/datatables.css" rel="stylesheet" />

<script src="~/DataTables (1)/datatables.js"></script>

<script src="~/DataTables (1)/pdfmake-0.1.36/pdfmake.js"></script>

<script src="~/DataTables (1)/pdfmake-0.1.36/vfs_fonts.js"></script>
<script src="~/DataTables (1)/JSZip-2.5.0/jszip.js"></script>
@*<script src="~/js/jquery-1.4.1.min.js"></script>
    <script src="~/js/jquery.tablesorter.min.js"></script>
    <script src="~/js/jquery.tablesorter.pager.js"></script>*@
@*<link href="~/DataTables/datatables.css" rel="stylesheet" />
    <script src="~/DataTables/datatables.js"></script>*@


